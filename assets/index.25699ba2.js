var $=Object.defineProperty,L=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var T=(s,e,o)=>e in s?$(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,D=(s,e)=>{for(var o in e||(e={}))O.call(e,o)&&T(s,o,e[o]);if(N)for(var o of N(e))w.call(e,o)&&T(s,o,e[o]);return s},S=(s,e)=>L(s,C(e));import{R as m,j as x,u as j,a as E}from"./vendor.54102eed.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}};F();const A=(s,e)=>{const[o,c]=m.useState(!1),[r,n]=m.useState(!0),[l,h]=m.useState(e);return m.useEffect(()=>{setTimeout(()=>{try{const i=localStorage.getItem(s);let p;i?p=JSON.parse(i):(localStorage.setItem(s,JSON.stringify(e)),p=e),h(p),n(!1)}catch(i){c(i)}},1500)}),{itemsValue:l,saveItems:i=>{try{const p=JSON.stringify(i);localStorage.setItem(s,p),h(i)}catch(p){c(p)}},loading:r,error:o}},t=x.exports.jsx,a=x.exports.jsxs,b=x.exports.Fragment,v=m.createContext(),P=s=>{const{itemsValue:e,saveItems:o,loading:c,error:r}=A("TODOS_V1",[]),n=e.filter(g=>!!g.completed).length,l=e.length,h=g=>{const f=e.findIndex(k=>k.text===g),d=[...e];d[f].completed=!d[f].completed,o(d)},u=g=>{const f=e.findIndex(k=>k.text===g),d=[...e];d.splice(f,1),o(d)},{register:i,errors:p,handleSubmit:y}=j(),I=(g,f)=>{const d=[...e];d.push({completed:!1,text:g.addTask}),o(d),f.target.reset()};return t(v.Provider,{value:{handleSubmit:y,onSubmit:I,register:i,toDos:e,loading:c,error:r,completedToDos:n,totalToDos:l,completeToDo:h,deleteToDo:u},children:s.children})};const B=()=>{const{completedToDos:s,totalToDos:e}=m.useContext(v),c=new Date().toDateString();return a("header",{children:[t("img",{src:"/src/public/devam.svg",alt:"Devam"}),a("div",{className:"info-container",children:[t("p",{className:"date",children:c}),t("p",{className:"counter",children:e-s==0?"\u{1F60E}":`${e-s} tasks left`})]})]})};const R=s=>a("form",{className:"form-container",onSubmit:s.submit,children:[t("input",S(D({},s.register),{autoComplete:"off",name:"addTask",className:"add-input",type:"text",placeholder:"Add a new task..."})),t("button",{type:"submit",className:"add-btn",children:t("img",{src:"/src/public/plus.svg",alt:"add"})})]});const J=()=>{const{completedToDos:s,totalToDos:e,toDos:o}=m.useContext(v),c=parseInt(s/e*100);return a(b,{children:[t("div",{className:"progress-container",children:t("progress",{value:`${s/e*100}`,max:"100"})}),e>0?a("p",{className:"progress-number",children:[c,"% completed"]}):t("p",{className:"progress-default",children:"Start getting shit done!"})]})};const M=s=>a("li",{className:`items ${s.completed&&"completed"}`,children:[t("img",{onClick:s.onComplete,src:s.completed?"/src/public/checked.svg":"/src/public/uncheck.svg",alt:"check-box"}),a("div",{className:"item-info",children:[t("p",{children:s.text}),t("img",{onClick:s.onDelete,src:"/src/public/trash.svg",alt:"trash"})]})]});const q=s=>t("section",{className:"items-list",children:t("ul",{children:s.children})});const H=()=>t("div",{className:"error-container",children:t("img",{src:"/src/public/abstract-fatal-error.png",alt:""})});const V=()=>a("div",{className:"skeleton-list",children:[a("div",{className:"skeleton-container",children:[t("div",{className:"check-skeleton"}),t("div",{className:"task-skeleton"})]}),a("div",{className:"skeleton-container",children:[t("div",{className:"check-skeleton"}),t("div",{className:"task-skeleton"})]}),a("div",{className:"skeleton-container",children:[t("div",{className:"check-skeleton"}),t("div",{className:"task-skeleton"})]})]});const K=()=>t("div",{className:"first-task-container",children:t("img",{src:"/src/public/tasks.svg",alt:"add a new task"})}),U=()=>{const{error:s,loading:e,toDos:o,completeToDo:c,deleteToDo:r,onSubmit:n,register:l,handleSubmit:h}=m.useContext(v);return a(b,{children:[t(B,{}),t(J,{}),t(R,{register:D({},l("addTask",{required:!0,message:"Add your new task!"})),submit:h(n)}),a(q,{children:[s&&t(H,{}),e&&t(V,{}),!e&&!o.length&&t(K,{}),o.map(u=>t(M,{completed:u.completed,text:u.text,onComplete:()=>c(u.text),onDelete:()=>r(u.text)},u.text))]})]})};function _(){return t(P,{children:t(U,{})})}E.render(t(m.StrictMode,{children:t(_,{})}),document.getElementById("root"));
